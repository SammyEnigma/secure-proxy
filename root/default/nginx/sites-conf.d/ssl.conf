
# This configuration contains ssl settings for a server block, it loads also the letsencrypt certificate

# it will be available in all sites if you include one of the following two examples inside your server block
# The first example is the best as it loads all "*.conf" files from the directory
# The second line only loads this specific config file, replace "filename.conf" with the filename of this file
# Make sure to remove the leading "#" from the specific line

# Examples for server block
# include /config/nginx/sites-conf.d/*.conf;
# include /config/nginx/sites-conf.d/filename.conf;


# Enables the specified protocols. Default is TLSv1 TLSv1.1 TLSv1.2.
# TIP: If you're not obligated to support ancient clients, remove TLSv1.1.
ssl_protocols TLSv1.3;

# Certificates
ssl_certificate /config/acme.sh/current/fullchain.cer;
ssl_certificate_key /config/acme.sh/current/privkey.key;

# verify chain of trust of OCSP response using Root CA and Intermediate certs
ssl_trusted_certificate /config/acme.sh/current/fullchain.cer;

# Path of the file with Diffie-Hellman parameters for EDH ciphers.
# TIP: Generate with: `openssl dhparam -out /config/nginx/dhparam4096.pem 4096`
ssl_dhparam /config/nginx/dhparam4096.pem;

# Specifies that our cipher suits should be preferred over client ciphers.
# Default is 'off'.
ssl_prefer_server_ciphers off;

# Specifies a time during which a client may reuse the session parameters.
# Default is '5m'.
ssl_session_timeout 1d;

# Disable TLS session tickets (they are insecure). Default is 'on'.
ssl_session_tickets off;

# Session chache time
ssl_session_cache shared:MozSSL:10m;  # about 40000 sessions

# OCSP stapling
ssl_stapling on;
ssl_stapling_verify on;


